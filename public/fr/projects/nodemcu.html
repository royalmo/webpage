<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Node MCU - Eric Roy</title>
    <meta name="twitter:card" content="summary">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Le but de ce projet était d'allumer et éteindre mon ordinateur sans fil, los de l'envoi d'un message à un robot de Telegram.">
    <meta name="twitter:title" content="Node MCU - Eric Roy">
    <meta property="og:image" content="https://ericroy.net/assets/img/hd_img/nodemcu_wiring.png">
    <meta name="twitter:image" content="https://ericroy.net/assets/img/hd_img/nodemcu_wiring.png">
    <meta name="twitter:description" content="Le but de ce projet était d'allumer et éteindre mon ordinateur sans fil, los de l'envoi d'un message à un robot de Telegram.">
    <meta name="description" content="Le but de ce projet était d'allumer et éteindre mon ordinateur sans fil, los de l'envoi d'un message à un robot de Telegram.">
    <link rel="stylesheet" href="https://ericroy.net/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">
    <link rel="stylesheet" href="https://ericroy.net/assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="https://ericroy.net/assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="https://ericroy.net/assets/css/Article-List.css">
    <link rel="stylesheet" href="https://ericroy.net/assets/css/Features-Boxed.css">
    <link rel="stylesheet" href="https://ericroy.net/assets/css/Features-Clean.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/css/pikaday.min.css">
    <link rel="stylesheet" href="https://ericroy.net/assets/css/Navigation-with-Button.css">
    <link rel="stylesheet" href="https://ericroy.net/assets/css/Projects-Horizontal.css">
</head>

<body>
    <nav class="navbar navbar-dark navbar-expand-lg fixed-top bg-white portfolio-navbar gradient">
        <div class="container"><a class="navbar-brand logo" href="https://ericroy.net/fr/">Eric Roy</a>
            <div class="dropdown"><a class="dropdown-toggle text-white" data-toggle="dropdown" aria-expanded="false" href="#">Français</a>
                <div class="dropdown-menu"><a class="dropdown-item" href="https://ericroy.net/en/projects/nodemcu">English</a><a class="dropdown-item" href="https://ericroy.net/ca/projects/nodemcu">Català</a><a class="dropdown-item" href="https://ericroy.net/es/projects/nodemcu">Español</a></div>
            </div><button data-toggle="collapse" class="navbar-toggler" data-target="#navbarNav"><span class="sr-only">Voir navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link" href="https://ericroy.net/fr/">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://ericroy.net/fr/about-me">Qui suis-je?</a></li>
                    <li class="nav-item dropdown"><a class="nav-link" data-toggle="dropdown" aria-expanded="false" href="https://ericroy.net/fr/project-list">Projets</a>
                        <div class="dropdown-menu"><a class="dropdown-item" href="https://ericroy.net/fr/projects/epsembot">EPSEM Bot</a><a class="dropdown-item" href="https://ericroy.net/fr/projects/nodemcu">Node MCU &amp; domotique</a><a class="dropdown-item" href="https://ericroy.net/fr/projects/steppermotormusic">Stepper Motor Music</a><a class="dropdown-item" href="https://ericroy.net/fr/projects/smaller-projects">Petits projets</a></div>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="https://ericroy.net/fr/contact-me">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="page project-page">
        <section class="portfolio-block project">
            <div class="container">
                <div class="heading">
                    <h2>NODE MCU &amp; DOMOTIQUE</h2>
                    <p>Allumer/éteindre mon ordinateur avec un robot de Telegram.</p>
                </div>
                <div class="image" style="background-image:url(&quot;https://ericroy.net/assets/img/hd_img/nodemcu_wiring.png&quot;);"></div>
                <div class="row">
                    <div class="col-12 col-md-6 offset-md-1 info">
                        <h3>Qu'est-ce que c'est?</h3>
                        <p class="text-justify">L'objectif principal de ce projet était de pouvoir démarrer, arrêter, et vérifier si mon ordinateur était allumé ou éteint à distance avec des messages via un robot de Telegram.</p>
                        <p class="text-justify">Le bot est hébergé dans une Raspberry Pi 4 que j'ai à côté de mon routeur. De cette façon, le robot est toujours en ligne. Mais comme mon PC n'est pas dans la même pièce que la Raspberry, j'ai dû réfléchir à une solution pour communiquer les deux appareils.</p>
                        <p class="text-justify">Après avoir mis de côté l'idée de faire passer des fils dans toute la maison et la fonction de <em>Wake on LAN</em> de mon ordinateur (car je veux que mon PC soit complètement déconnecté de l'alimentation lorsque je l'éteins), toutes les solutions possibles visaient vers la plaque Node MCU: le deux plaques se communiqueraient entre elles en utilisant le réseau WiFi.</p>
                        <p class="text-justify">Cette plaque fonctionne (et peut être programmée) comme un Arduino, mais elle dispose également d'une antenne WiFi. Après avoir lu quelques documents, j'ai découvert que faire en sorte que le MCU se comporte comme un serveur web serait beaucoup plus facile à gérer que démarrer un système de communication <em>mqtt</em>.</p>
                        <p class="text-justify">En utilisant des relais, des diodes et des photocoupleurs, mon PC écoutait en toute sécurité les instructions du MCU. Comme vous pouvez le voir sur la photo principale, j'ai soudé les composants dans une petite plaque, pour mieux les conserver et les sécuriser.</p>
                        <h3><strong>Situation actuelle</strong><br></h3>
                        <p class="text-justify">Le projet est actuellement en écart. Depuis le jour du «lancement», j'ai eu quelques problèmes avec un photocoupleur. Comme j'étais pressé, au lieu de le réparer correctement, j'ai modifié certains paramètres de la BIOS de mon ordinateur, afin que je puisse toujours allumer mon ordinateur avec le robot, mais, à cause de cela, je ne peux plus l'éteindre par Telegram. Mais malgré cela, le robot fonctionne parfaitement, et même avec quelques fonctionnalités supplémentaires.</p>
                        <p class="text-justify">J'ai sécurisé le robot avec quelques options d'administrateur, des connexions/déconnexions très faciles, etc. et je l'ai fait facile à traduire, en mettant tous les messages que l'utilisateur peut voir dans un fichier <em>.json</em>.</p>
                        <p class="text-justify">Et l'été dernier, j'ai connecté 3 webcams et je les ai configurées pour qu'elles enregistrent lorsqu'elles détectent un mouvement. Mais la relation avec les webcams et ce projet était qu'une capture d'écran de n'importe quelle webcam pouvait être envoyée à tout moment via Telegram en utilisant le robot.</p>
                        <p class="text-justify">Vous pouvez vérifier certaines conceptions de base et l'intégralité du code source dans le <a href="https://github.com/royalmo/NodeMCU_PC">repositoire de GitHub</a>.</p>
                        <h3>Améliorations futures</h3>
                        <p class="text-justify">Nous pouvons faire beaucoup d'améliorations sur le projet. Tout d'abord, nous pourrions résoudre le problème de la plaque avec le photocoupleur. Et puis nous pourrions commencer par ajouter quelques fonctionnalités simples, comme un installateur, un manuel, une interface graphique, un sélecteur de langue, ... juste pour rendre le programme très personnalisable.</p>
                        <p class="text-justify">Une chose que j'ai également prévu de faire (mais encore une fois, je n'ai pas prévu <em>quand</em> la faire) c'est de contrôler les haut-parleurs Raspberry à l'aide du robot de Telegram, et de les programmer, de sorte que de la musique soit joué pendant un horaire souhaitée.</p>
                    </div>
                    <div class="col-12 col-md-3 offset-md-1 meta">
                        <div class="tags"><span class="meta-heading">Dans ce projet j'ai utilisé...</span><span>Python</span><span>Librairie Telepot</span><span>Programmation de type Arduino</span><span>La librairie WiFi du Node MCU</span><span>Conception de circuits électroniques</span><span class="meta-heading">Première version terminée le</span><span>May 2020</span></div>
                    </div>
                </div>
                <div class="more-projects">
                    <h3 class="text-center">Autres Projets</h3>
                    <div class="row gallery">
                        <div class="col-md-4 col-lg-4 col-xl-4">
                            <div class="item"><a href="https://ericroy.net/fr/projects/epsembot"><img class="img-fluid scale-on-hover" src="https://ericroy.net/assets/img/hd_img/epsem_bot_showcase_code_snip.png"></a></div>
                        </div>
                        <div class="col-md-4 col-lg-4 col-xl-4">
                            <div class="item"><a href="https://ericroy.net/fr/projects/steppermotormusic"><img class="img-fluid scale-on-hover" src="https://ericroy.net/assets/img/hd_img/steppermotormusic_outside.jpg"></a></div>
                        </div>
                        <div class="col-md-4 col-lg-4 col-xl-4">
                            <div class="item"><a href="https://ericroy.net/fr/projects/smaller-projects"><img class="img-fluid scale-on-hover" src="https://ericroy.net/assets/img/hd_img/FMradio_3Dpreview.png"></a></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="page-footer">
        <div class="container">
            <div class="links"><a href="https://ericroy.net/fr/about-me">Qui suis-je?</a><a href="https://ericroy.net/fr/contact-me">Contact</a><a href="https://ericroy.net/fr/project-list">Projets</a></div>
            <div class="social-icons"><a href="https://www.linkedin.com/in/ericrooy"><i class="icon ion-social-linkedin-outline"></i></a><a href="https://github.com/royalmo"><i class="icon ion-social-github-outline"></i></a><a href="mailto:eric@ericroy.net"><i class="icon ion-ios-email-outline"></i></a></div><span><br>© Eric Roy, 2021.&nbsp; Tous les droits réservés.<br><br><br></span>
        </div>
    </footer>
    <script src="https://ericroy.net/assets/js/jquery.min.js"></script>
    <script src="https://ericroy.net/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pikaday/1.6.1/pikaday.min.js"></script>
    <script src="https://ericroy.net/assets/js/theme.js"></script>
</body>

</html>